(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{74:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return r})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return d}));var i=n(3),a=n(7),s=(n(0),n(104)),o={title:"Style Guide"},r={unversionedId:"style-guide",id:"style-guide",isDocsHomePage:!1,title:"Style Guide",description:"This is a collection of best practices when using Retreon. They aren't required, but highly recommended.",source:"@site/docs/style-guide.md",slug:"/style-guide",permalink:"/style-guide",editUrl:"https://github.com/retreon/website/edit/main/docs/style-guide.md",version:"current",sidebar:"someSidebar",previous:{title:"Advanced Usage",permalink:"/advanced-usage"},next:{title:"Testing Patterns",permalink:"/testing-patterns"}},c=[{value:"Separate Your Effects",id:"separate-your-effects",children:[]},{value:"Organize by Feature",id:"organize-by-feature",children:[]},{value:"Use Consistent Action Types",id:"use-consistent-action-types",children:[]}],l={rightToc:c};function d(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(s.b)("wrapper",Object(i.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"This is a collection of best practices when using Retreon. They aren't required, but highly recommended."),Object(s.b)("p",null,"First, check out ",Object(s.b)("a",Object(i.a)({parentName:"p"},{href:"https://redux.js.org/style-guide/style-guide"}),"the official Redux guidelines"),". Their documentation is excellent and retreon has no reason to duplicate it."),Object(s.b)("p",null,"The best practices in this page are meant to extend and complement their suggestions."),Object(s.b)("h2",{id:"separate-your-effects"},"Separate Your Effects"),Object(s.b)("p",null,"Keep actions, reducers, and effects in separate files."),Object(s.b)("pre",null,Object(s.b)("code",Object(i.a)({parentName:"pre"},{}),"src\n\u251c\u2500\u2500 actions\n\u251c\u2500\u2500 reducers\n\u2514\u2500\u2500 effects\n")),Object(s.b)("p",null,"Why? Simply because effects can be composed to create richer effects, but you can't do the same with actions. Actions are tightly coupled with redux and ",Object(s.b)("inlineCode",{parentName:"p"},"dispatch")," (that is their purpose after all), so if you try to use one action within another, you're fighting uphill to re-implement middleware without the tools to do it right."),Object(s.b)("p",null,"No. ",Object(s.b)("inlineCode",{parentName:"p"},"createAction(...)")," should be used as an extremely thin layer over business logic binding it to redux."),Object(s.b)("p",null,"Putting effects in their own file encourages natural composition of business logic and keeps effects blissfully ignorant of the redux world outside. In practice, the overhead of a new file is outweighed by the ease of testing effects in isolation, and without any IO, there's nothing left to test in the actions folder."),Object(s.b)("h2",{id:"organize-by-feature"},"Organize by Feature"),Object(s.b)("p",null,"Organize your effects according to the feature they implement. They don't need to map 1:1 to your action files, just organize them as it makes sense. Pretend you're writing tiny libraries, and each library has its own file."),Object(s.b)("p",null,"Reducers should be named after the state they manage. If the reducer is responsible for ",Object(s.b)("inlineCode",{parentName:"p"},"state.articles"),", it should probably be named ",Object(s.b)("inlineCode",{parentName:"p"},"reducers/articles"),"."),Object(s.b)("p",null,"Actions don't have solid rules. Name it as it makes sense. Typically this ends up mirroring the structure of ",Object(s.b)("inlineCode",{parentName:"p"},"reducers/"),", but just remember that a single action can be handled by multiple reducers, there's no 1:1 mapping. It's okay to have an actions file without a similarly named reducer file."),Object(s.b)("h2",{id:"use-consistent-action-types"},"Use Consistent Action Types"),Object(s.b)("p",null,"Action types should be named after the file + the name of the action, expressed in ",Object(s.b)("a",Object(i.a)({parentName:"p"},{href:"https://en.wiktionary.org/wiki/kebab_case"}),"kebab-case"),"."),Object(s.b)("p",null,"Here's how it might look in a file named ",Object(s.b)("inlineCode",{parentName:"p"},"actions/tasks"),":"),Object(s.b)("pre",null,Object(s.b)("code",Object(i.a)({parentName:"pre"},{className:"language-ts"}),"// actions/tasks.ts\nexport const rename = createAction('tasks/rename', effects.rename)\nexport const remove = createAction('tasks/remove', effects.remove)\nexport const markComplete = createAction('tasks/mark-complete', effects.markComplete)\n")),Object(s.b)("p",null,"The file ",Object(s.b)("inlineCode",{parentName:"p"},"<prefix>/")," helps prevent naming collisions across files. Some would recommend using ",Object(s.b)("inlineCode",{parentName:"p"},"SHOUTY_SNAKE_CASE")," for the action title, although retreon suggests just keeping it consistent. Use kebab-case."),Object(s.b)("div",{className:"admonition admonition-info alert alert--info"},Object(s.b)("div",Object(i.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(i.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(i.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(s.b)("path",Object(i.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(s.b)("div",Object(i.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},"The documentation rarely uses this pattern in a frugal effort to save screen space and to spare the reader from extraneous context. It is still recommended."))))}d.isMDXComponent=!0}}]);